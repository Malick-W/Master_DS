#!/bin/env python3import time, asyncioclass Liste(list):    def wait_and_pop(self):        while True:            try:                return self.pop()            except:                passclass Pic(Liste):    def epingler(self,feuille):        print(f"Pic: epingler '{feuille}'")        self.append(feuille)    def prendre(self):        feuille = self.wait_and_pop()        print(f"Pic: prendre '{feuille}'")        return feuilleclass Bar(Liste):    def deposer(self,consommation):        print(f"Bar: d√©poser '{consommation}'")        self.append(consommation)    def prendre(self):        consommation = self.wait_and_pop()        print(f"Bar: prendre '{consommation}'")        return consommationclass Serveur:    def __init__(self,pic,bar):        self.pic = pic        self.bar = bar    def prendre_commande(self):        commande = commandes.pop()        print(f"Serveur: prendre commande '{commande}'")        return commande    def servir(self,consommation):        print(f"Serveur: servir '{consommation}'")    async def run(self):        while True:            commande = self.prendre_commande()            self.pic.epingler(commande)            await asyncio.sleep(0.2)            consommation = self.bar.prendre()            self.servir(consommation)class Barman:    def __init__(self,pic,bar):        self.pic = pic        self.bar = bar    def fabriquer(self,commande):        print(f"Bareman: fabriquer '{commande}'")        return commande    async def run(self):        while True:            commande = self.pic.prendre()            consommation = self.fabriquer(commande)            await asyncio.sleep(0.2)            self.bar.deposer(consommation)pic = Pic()bar = Bar()# pour testerpic.append("1 pastis")commandes = [ "1 demi", "2 pastis", "3 ti punchs"]un_barman = Barman(pic,bar)un_serveur = Serveur(pic,bar)loop = asyncio.get_event_loop() loop.run_until_complete(   asyncio.gather(      un_barman.run(),      un_serveur.run()   ))loop.close()